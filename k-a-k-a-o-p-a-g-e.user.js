// ==UserScript==
// @name         k-a-k-a-o-p-a-g-e
// @namespace    https://github.com/ogawaren3456/chay_xa_bay/raw/main/k-a-k-a-o-p-a-g-e.user.js
// @version      2024.08.18
// @description  down k-a-k-a-o-p-a-g-e
// @author       You
// @include      /^https:\/\/p[a@]ge\.k[a@]k[a@]o\.c[o0]m\/c[o0]nt[e3]nt\/.+?\/vi[e3]wer\//
// @icon         https://raw.githubusercontent.com/ogawaren3456/chay_xa_bay/main/k-a-k-a-o-p-a-g-e.png
// @grant        GM_download
// @grant        GM_info
// @downloadURL  https://github.com/ogawaren3456/chay_xa_bay/raw/main/k-a-k-a-o-p-a-g-e.user.js
// @updateURL    https://github.com/ogawaren3456/chay_xa_bay/raw/main/k-a-k-a-o-p-a-g-e.meta.js
// ==/UserScript==

function a0_0x4c02(_0x569265,_0x22cd31){const _0x52976d=a0_0x5297();return a0_0x4c02=function(_0x4c02dd,_0x3c0b7c){_0x4c02dd=_0x4c02dd-0x165;let _0x25f272=_0x52976d[_0x4c02dd];return _0x25f272;},a0_0x4c02(_0x569265,_0x22cd31);}(function(_0x336aee,_0x3cda0b){const _0x415e3e=a0_0x4c02,_0x281af4=_0x336aee();while(!![]){try{const _0x3cb5d5=-parseInt(_0x415e3e(0x1aa))/0x1*(parseInt(_0x415e3e(0x19c))/0x2)+-parseInt(_0x415e3e(0x1ab))/0x3*(-parseInt(_0x415e3e(0x1af))/0x4)+parseInt(_0x415e3e(0x17f))/0x5+parseInt(_0x415e3e(0x19e))/0x6+-parseInt(_0x415e3e(0x195))/0x7+parseInt(_0x415e3e(0x187))/0x8*(-parseInt(_0x415e3e(0x17a))/0x9)+-parseInt(_0x415e3e(0x1a7))/0xa;if(_0x3cb5d5===_0x3cda0b)break;else _0x281af4['push'](_0x281af4['shift']());}catch(_0x41db0a){_0x281af4['push'](_0x281af4['shift']());}}}(a0_0x5297,0xa2c0a));let downloading_current=0x0,downloading_total=0x0,folder_title='';const downloadMode=GM_info['downloadMode'];function sleep(_0x596fa8){return new Promise(_0x163cfd=>setTimeout(_0x163cfd,_0x596fa8));}const load_image=_0x3084ee=>new Promise((_0x597c40,_0x8ee09e)=>{const _0x1c213a=a0_0x4c02,_0x3b6db4=new Image();_0x3b6db4[_0x1c213a(0x1a2)](_0x1c213a(0x171),()=>{_0x597c40(_0x3b6db4);}),_0x3b6db4['addEventListener'](_0x1c213a(0x165),()=>{const _0x59f4b8=_0x1c213a;_0x8ee09e(new Error(_0x59f4b8(0x174)));}),_0x3b6db4[_0x1c213a(0x189)]=_0x3084ee,_0x3b6db4[_0x1c213a(0x193)]='Anonymous';}),download_not_encrypted=async(_0x14358b,_0x8c7181)=>{const _0xe55cb6=a0_0x4c02,_0x161d5e=await load_image(_0x14358b[_0xe55cb6(0x1a3)]('page-edge.',_0xe55cb6(0x186))),_0x9ecda5=document['createElement'](_0xe55cb6(0x168));_0x9ecda5['width']=_0x161d5e[_0xe55cb6(0x16b)],_0x9ecda5['height']=_0x161d5e[_0xe55cb6(0x199)];const _0x38273d=_0x9ecda5['getContext']('2d');_0x38273d[_0xe55cb6(0x19a)](_0x161d5e,0x0,0x0),_0x9ecda5[_0xe55cb6(0x176)](_0x3a981a=>{const _0x544b60=_0xe55cb6;let _0x4798e0=(''+_0x8c7181)[_0x544b60(0x180)](0x3,'0')+_0x544b60(0x18d);downloadMode===_0x544b60(0x198)&&(_0x4798e0=folder_title+_0x4798e0);const _0x31b3a6=URL[_0x544b60(0x169)](_0x3a981a);GM_download({'url':_0x31b3a6,'name':_0x4798e0}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();},_0xe55cb6(0x1b0),0.99);};function update_status(){const _0x510f7b=a0_0x4c02;document[_0x510f7b(0x16c)](_0x510f7b(0x18e))[_0x510f7b(0x16e)][_0x510f7b(0x175)]=_0x510f7b(0x1ac),document[_0x510f7b(0x16c)](_0x510f7b(0x18e))[_0x510f7b(0x16e)][_0x510f7b(0x185)]=_0x510f7b(0x196),document['querySelector'](_0x510f7b(0x18e))[_0x510f7b(0x177)]=downloading_current+_0x510f7b(0x1a8)+downloading_total;}function create_status_box(){const _0x3fb410=a0_0x4c02;let _0x2059ec=document[_0x3fb410(0x173)](_0x3fb410(0x172));return _0x2059ec[_0x3fb410(0x19f)]='status-num',_0x2059ec['textContent']=downloading_current+'\x20/\x20'+downloading_total,_0x2059ec;}function a0_0x5297(){const _0x5d8fd0=['div','createElement','Failed\x20to\x20load\x20image','display','toBlob','innerHTML','width','img','11374866TMrGOs','tai-ve','imageDownloadData','join','splice','2352065oICape','padStart','justifyContent','\x0a\x09.status-num\x20{\x0a\x09\x09font-family:\x20\x27Acme\x27,\x20sans-serif\x20!important;\x0a\x09\x09font-size:\x203rem;\x0a\x09\x09color:\x20#FD7377;\x0a\x09\x09-webkit-text-stroke:\x201px\x20#C62428;\x0a\x09\x09border:\x200.2rem\x20solid\x20#167975;\x0a\x09\x09border-radius:\x201rem;\x0a\x09\x09padding:\x200\x202rem;\x0a\x09\x09background-color:\x20#F9FDFD;\x0a\x09\x09box-shadow:\x200.25rem\x200.4rem\x20#2E8B87;\x0a\x09\x09min-height:\x204rem;\x0a\x09\x09display:\x20none;\x0a\x09}\x0a\x09','0.5rem','length','alignItems','dn-img-page.','8efxJbS',',\x22productId\x22:','src','match','#heartbeat','zIndex','.jpg','.status-num','firstChild','viewerData','textContent','setAttribute','crossOrigin','position','1275526piVvJY','center','50vw','browser','naturalHeight','drawImage','stylesheet','12632ZxXazn','3rem','7161180sqsUIq','className','left','top','addEventListener','replace','href','appendChild','translate(-50%)','6174850XlGdKn','\x20/\x20','absolute','40ZcilnP','9gYdFaB','flex','1.5rem','https://fonts.googleapis.com/css2?family=Acme&display=swap','1758544DISrrq','image/jpeg','https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','rel','status','link','head','location','secureUrl','error','pointer','trim','canvas','createObjectURL','getElementsByTagName','naturalWidth','querySelector','map','style','all','viewerInfo','load'];a0_0x5297=function(){return _0x5d8fd0;};return a0_0x5297();}function create_download_icon(){const _0x1b6b3b=a0_0x4c02;let _0x1937b3=document[_0x1b6b3b(0x173)](_0x1b6b3b(0x172)),_0x17d9b5=document[_0x1b6b3b(0x173)](_0x1b6b3b(0x179));_0x17d9b5[_0x1b6b3b(0x19f)]=_0x1b6b3b(0x17b),_0x17d9b5[_0x1b6b3b(0x192)](_0x1b6b3b(0x189),_0x1b6b3b(0x1b1)),_0x17d9b5[_0x1b6b3b(0x16e)][_0x1b6b3b(0x178)]=_0x1b6b3b(0x19d),_0x17d9b5['style']['cursor']=_0x1b6b3b(0x166),_0x1937b3[_0x1b6b3b(0x1a5)](_0x17d9b5);let _0x1efe41=document['createElement'](_0x1b6b3b(0x1b4));_0x1efe41[_0x1b6b3b(0x1b2)]=_0x1b6b3b(0x19b),_0x1efe41[_0x1b6b3b(0x1a4)]=_0x1b6b3b(0x1ae),document[_0x1b6b3b(0x16a)](_0x1b6b3b(0x1b5))[0x0]['appendChild'](_0x1efe41);let _0x7ec82f=document[_0x1b6b3b(0x173)](_0x1b6b3b(0x172));_0x7ec82f[_0x1b6b3b(0x19f)]=_0x1b6b3b(0x1b3),_0x7ec82f[_0x1b6b3b(0x16e)][_0x1b6b3b(0x175)]=_0x1b6b3b(0x1ac),_0x7ec82f['style'][_0x1b6b3b(0x181)]=_0x1b6b3b(0x196),_0x7ec82f[_0x1b6b3b(0x16e)]['alignItems']=_0x1b6b3b(0x196),_0x7ec82f[_0x1b6b3b(0x16e)]['gap']=_0x1b6b3b(0x1ad),_0x7ec82f['style'][_0x1b6b3b(0x194)]=_0x1b6b3b(0x1a9),_0x7ec82f[_0x1b6b3b(0x16e)][_0x1b6b3b(0x18c)]='10000',_0x7ec82f[_0x1b6b3b(0x16e)][_0x1b6b3b(0x1a1)]=_0x1b6b3b(0x183),_0x7ec82f[_0x1b6b3b(0x16e)][_0x1b6b3b(0x1a0)]=_0x1b6b3b(0x197),_0x7ec82f[_0x1b6b3b(0x16e)]['transform']=_0x1b6b3b(0x1a6);let _0x3de98e=create_status_box();const _0x235ad8=document[_0x1b6b3b(0x173)](_0x1b6b3b(0x16e));_0x235ad8['textContent']=_0x1b6b3b(0x182),document[_0x1b6b3b(0x1b5)]['appendChild'](_0x235ad8),_0x7ec82f[_0x1b6b3b(0x1a5)](_0x1937b3),_0x7ec82f['appendChild'](_0x3de98e);let _0x25255b=document[_0x1b6b3b(0x16c)]('body'),_0x5ca95=_0x25255b[_0x1b6b3b(0x18f)];return _0x25255b['insertBefore'](_0x7ec82f,_0x5ca95),_0x7ec82f;}const throttlePromises=async(_0x39ddfd,_0xe562dc)=>{const _0x376ae4=a0_0x4c02;while(_0x39ddfd['length']>0x0){await Promise[_0x376ae4(0x16f)](_0x39ddfd[_0x376ae4(0x17e)](0x0,_0xe562dc)[_0x376ae4(0x16d)](_0x4587df=>_0x4587df())),await sleep(0xc8);}},on_heartbeat_css=()=>{const _0x5c886d=a0_0x4c02;let _0x499907=document['querySelector'](_0x5c886d(0x18b));!_0x499907&&(_0x499907=document[_0x5c886d(0x173)]('style'),_0x499907['setAttribute']('id','heartbeat'),document['head']['appendChild'](_0x499907)),_0x499907[_0x5c886d(0x191)]='\x0a\x09.tai-ve\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20heartbeat\x202s\x20infinite;\x20/*\x20Apply\x20the\x20heartbeat\x20animation\x20*/\x0a\x09\x09transform-origin:\x20center;\x0a\x09}\x0a\x0a\x09@keyframes\x20heartbeat\x20{\x0a\x09\x090%\x20{\x0a\x09\x09\x09transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Start\x20with\x20full\x20opacity\x20*/\x0a\x09\x09}\x0a\x09\x0925%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2025%\x20of\x20the\x20animation\x20*/\x0a\x09\x09}\x0a\x09\x0950%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1.2);\x20/*\x20Scale\x20up\x20at\x2050%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Return\x20to\x20full\x20opacity\x20*/\x0a\x09\x09}\x0a\x09\x0975%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2075%\x20*/\x0a\x09\x09}\x0a\x09\x09100%\x20{\x0a\x09\x09\x09transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20End\x20with\x20full\x20opacity\x20*/\x0a\x09\x09}\x0a\x09}\x0a\x09';},off_heartbeat_css=()=>{const _0x4dbfd8=a0_0x4c02,_0x3a55e1=document[_0x4dbfd8(0x16c)](_0x4dbfd8(0x18b));_0x3a55e1[_0x4dbfd8(0x191)]='';};((async()=>{const _0x219072=a0_0x4c02,_0x48b79c=window[_0x219072(0x1b6)][_0x219072(0x1a4)],_0x1a2380=_0x48b79c[_0x219072(0x18a)](/\/content\/(\d+)\/viewer\/(\d+)/),_0x1cba24=Number['parseInt'](_0x1a2380[0x1],0xa),_0x11b01a=Number['parseInt'](_0x1a2380[0x2],0xa),_0x45cfef=await fetch(['h','t','t','p','s',':','/','/','p','a','g','e','.','k','a','k','a','o','.','c','o','m','/','g','r','a','p','h','q','l'][_0x219072(0x17d)](''),{'method':'POST','headers':{'content-type':'application/json'},'body':'{\x22query\x22:\x22query\x20viewerInfo($seriesId:\x20Long!,\x20$productId:\x20Long!)\x20{\x5cn\x20\x20viewerInfo(seriesId:\x20$seriesId,\x20productId:\x20$productId)\x20{\x5cn\x20\x20\x20\x20item\x20{\x5cn\x20\x20\x20\x20\x20\x20...SingleFragment\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20seriesItem\x20{\x5cn\x20\x20\x20\x20\x20\x20...SeriesFragment\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20prevItem\x20{\x5cn\x20\x20\x20\x20\x20\x20...NearItemFragment\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20nextItem\x20{\x5cn\x20\x20\x20\x20\x20\x20...NearItemFragment\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20viewerData\x20{\x5cn\x20\x20\x20\x20\x20\x20...TextViewerData\x5cn\x20\x20\x20\x20\x20\x20...TalkViewerData\x5cn\x20\x20\x20\x20\x20\x20...ImageViewerData\x5cn\x20\x20\x20\x20\x20\x20...VodViewerData\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20displayAd\x20{\x5cn\x20\x20\x20\x20\x20\x20...DisplayAd\x5cn\x20\x20\x20\x20\x20\x20__typename\x5cn\x20\x20\x20\x20}\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20SingleFragment\x20on\x20Single\x20{\x5cn\x20\x20id\x5cn\x20\x20productId\x5cn\x20\x20seriesId\x5cn\x20\x20title\x5cn\x20\x20thumbnail\x5cn\x20\x20badge\x5cn\x20\x20isFree\x5cn\x20\x20ageGrade\x5cn\x20\x20state\x5cn\x20\x20slideType\x5cn\x20\x20lastReleasedDate\x5cn\x20\x20size\x5cn\x20\x20pageCount\x5cn\x20\x20isHidden\x5cn\x20\x20remainText\x5cn\x20\x20isWaitfreeBlocked\x5cn\x20\x20saleState\x5cn\x20\x20series\x20{\x5cn\x20\x20\x20\x20...SeriesFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20serviceProperty\x20{\x5cn\x20\x20\x20\x20...ServicePropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20operatorProperty\x20{\x5cn\x20\x20\x20\x20...OperatorPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20assetProperty\x20{\x5cn\x20\x20\x20\x20...AssetPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20SeriesFragment\x20on\x20Series\x20{\x5cn\x20\x20id\x5cn\x20\x20seriesId\x5cn\x20\x20title\x5cn\x20\x20thumbnail\x5cn\x20\x20categoryUid\x5cn\x20\x20category\x5cn\x20\x20categoryType\x5cn\x20\x20subcategoryUid\x5cn\x20\x20subcategory\x5cn\x20\x20badge\x5cn\x20\x20isAllFree\x5cn\x20\x20isWaitfree\x5cn\x20\x20ageGrade\x5cn\x20\x20state\x5cn\x20\x20onIssue\x5cn\x20\x20authors\x5cn\x20\x20description\x5cn\x20\x20pubPeriod\x5cn\x20\x20freeSlideCount\x5cn\x20\x20lastSlideAddedDate\x5cn\x20\x20waitfreeBlockCount\x5cn\x20\x20waitfreePeriodByMinute\x5cn\x20\x20bm\x5cn\x20\x20saleState\x5cn\x20\x20startSaleDt\x5cn\x20\x20serviceProperty\x20{\x5cn\x20\x20\x20\x20...ServicePropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20operatorProperty\x20{\x5cn\x20\x20\x20\x20...OperatorPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20assetProperty\x20{\x5cn\x20\x20\x20\x20...AssetPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20ServicePropertyFragment\x20on\x20ServiceProperty\x20{\x5cn\x20\x20viewCount\x5cn\x20\x20readCount\x5cn\x20\x20ratingCount\x5cn\x20\x20ratingSum\x5cn\x20\x20commentCount\x5cn\x20\x20pageContinue\x20{\x5cn\x20\x20\x20\x20...ContinueInfoFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20todayGift\x20{\x5cn\x20\x20\x20\x20...TodayGift\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20preview\x20{\x5cn\x20\x20\x20\x20...PreviewFragment\x5cn\x20\x20\x20\x20...PreviewFragment\x5cn\x20\x20\x20\x20...PreviewFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20waitfreeTicket\x20{\x5cn\x20\x20\x20\x20...WaitfreeTicketFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20isAlarmOn\x5cn\x20\x20isLikeOn\x5cn\x20\x20ticketCount\x5cn\x20\x20purchasedDate\x5cn\x20\x20lastViewInfo\x20{\x5cn\x20\x20\x20\x20...LastViewInfoFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20purchaseInfo\x20{\x5cn\x20\x20\x20\x20...PurchaseInfoFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20preview\x20{\x5cn\x20\x20\x20\x20...PreviewFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20ContinueInfoFragment\x20on\x20ContinueInfo\x20{\x5cn\x20\x20title\x5cn\x20\x20isFree\x5cn\x20\x20productId\x5cn\x20\x20lastReadProductId\x5cn\x20\x20scheme\x5cn\x20\x20continueProductType\x5cn\x20\x20hasNewSingle\x5cn\x20\x20hasUnreadSingle\x5cn}\x5cn\x5cnfragment\x20TodayGift\x20on\x20TodayGift\x20{\x5cn\x20\x20id\x5cn\x20\x20uid\x5cn\x20\x20ticketType\x5cn\x20\x20ticketKind\x5cn\x20\x20ticketCount\x5cn\x20\x20ticketExpireAt\x5cn\x20\x20ticketExpiredText\x5cn\x20\x20isReceived\x5cn\x20\x20seriesId\x5cn}\x5cn\x5cnfragment\x20PreviewFragment\x20on\x20Preview\x20{\x5cn\x20\x20item\x20{\x5cn\x20\x20\x20\x20...PreviewSingleFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20nextItem\x20{\x5cn\x20\x20\x20\x20...PreviewSingleFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20usingScroll\x5cn}\x5cn\x5cnfragment\x20PreviewSingleFragment\x20on\x20Single\x20{\x5cn\x20\x20id\x5cn\x20\x20productId\x5cn\x20\x20seriesId\x5cn\x20\x20title\x5cn\x20\x20thumbnail\x5cn\x20\x20badge\x5cn\x20\x20isFree\x5cn\x20\x20ageGrade\x5cn\x20\x20state\x5cn\x20\x20slideType\x5cn\x20\x20lastReleasedDate\x5cn\x20\x20size\x5cn\x20\x20pageCount\x5cn\x20\x20isHidden\x5cn\x20\x20remainText\x5cn\x20\x20isWaitfreeBlocked\x5cn\x20\x20saleState\x5cn\x20\x20operatorProperty\x20{\x5cn\x20\x20\x20\x20...OperatorPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20assetProperty\x20{\x5cn\x20\x20\x20\x20...AssetPropertyFragment\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20OperatorPropertyFragment\x20on\x20OperatorProperty\x20{\x5cn\x20\x20thumbnail\x5cn\x20\x20copy\x5cn\x20\x20helixImpId\x5cn\x20\x20isTextViewer\x5cn\x20\x20selfCensorship\x5cn}\x5cn\x5cnfragment\x20AssetPropertyFragment\x20on\x20AssetProperty\x20{\x5cn\x20\x20bannerImage\x5cn\x20\x20cardImage\x5cn\x20\x20cardTextImage\x5cn\x20\x20cleanImage\x5cn\x20\x20ipxVideo\x5cn}\x5cn\x5cnfragment\x20WaitfreeTicketFragment\x20on\x20WaitfreeTicket\x20{\x5cn\x20\x20chargedPeriod\x5cn\x20\x20chargedCount\x5cn\x20\x20chargedAt\x5cn}\x5cn\x5cnfragment\x20LastViewInfoFragment\x20on\x20LastViewInfo\x20{\x5cn\x20\x20isDone\x5cn\x20\x20lastViewDate\x5cn\x20\x20rate\x5cn\x20\x20spineIndex\x5cn}\x5cn\x5cnfragment\x20PurchaseInfoFragment\x20on\x20PurchaseInfo\x20{\x5cn\x20\x20purchaseType\x5cn\x20\x20rentExpireDate\x5cn\x20\x20expired\x5cn}\x5cn\x5cnfragment\x20NearItemFragment\x20on\x20NearItem\x20{\x5cn\x20\x20productId\x5cn\x20\x20slideType\x5cn\x20\x20ageGrade\x5cn\x20\x20isFree\x5cn\x20\x20title\x5cn\x20\x20thumbnail\x5cn}\x5cn\x5cnfragment\x20TextViewerData\x20on\x20TextViewerData\x20{\x5cn\x20\x20type\x5cn\x20\x20atsServerUrl\x5cn\x20\x20metaSecureUrl\x5cn\x20\x20contentsList\x20{\x5cn\x20\x20\x20\x20chapterId\x5cn\x20\x20\x20\x20contentId\x5cn\x20\x20\x20\x20secureUrl\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20TalkViewerData\x20on\x20TalkViewerData\x20{\x5cn\x20\x20type\x5cn\x20\x20talkDownloadData\x20{\x5cn\x20\x20\x20\x20dec\x5cn\x20\x20\x20\x20host\x5cn\x20\x20\x20\x20path\x5cn\x20\x20\x20\x20talkViewerType\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20ImageViewerData\x20on\x20ImageViewerData\x20{\x5cn\x20\x20type\x5cn\x20\x20imageDownloadData\x20{\x5cn\x20\x20\x20\x20...ImageDownloadData\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20ImageDownloadData\x20on\x20ImageDownloadData\x20{\x5cn\x20\x20files\x20{\x5cn\x20\x20\x20\x20...ImageDownloadFile\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn\x20\x20totalCount\x5cn\x20\x20totalSize\x5cn\x20\x20viewDirection\x5cn\x20\x20gapBetweenImages\x5cn\x20\x20readType\x5cn}\x5cn\x5cnfragment\x20ImageDownloadFile\x20on\x20ImageDownloadFile\x20{\x5cn\x20\x20no\x5cn\x20\x20size\x5cn\x20\x20secureUrl\x5cn\x20\x20width\x5cn\x20\x20height\x5cn}\x5cn\x5cnfragment\x20VodViewerData\x20on\x20VodViewerData\x20{\x5cn\x20\x20type\x5cn\x20\x20vodDownloadData\x20{\x5cn\x20\x20\x20\x20contentId\x5cn\x20\x20\x20\x20drmType\x5cn\x20\x20\x20\x20endpointUrl\x5cn\x20\x20\x20\x20width\x5cn\x20\x20\x20\x20height\x5cn\x20\x20\x20\x20duration\x5cn\x20\x20\x20\x20__typename\x5cn\x20\x20}\x5cn}\x5cn\x5cnfragment\x20DisplayAd\x20on\x20DisplayAd\x20{\x5cn\x20\x20sectionUid\x5cn\x20\x20bannerUid\x5cn\x20\x20treviUid\x5cn\x20\x20momentUid\x5cn}\x5cn\x22,\x22operationName\x22:\x22viewerInfo\x22,\x22variables\x22:{\x22seriesId\x22:'+_0x1cba24+_0x219072(0x188)+_0x11b01a+'}}'}),_0x8ec81f=await _0x45cfef['json'](),{title:_0x581c80}=_0x8ec81f['data'][_0x219072(0x170)]['item'];folder_title=decodeURIComponent(_0x581c80)[_0x219072(0x167)]()[_0x219072(0x1a3)]('.','');folder_title?folder_title+='/':folder_title='';const {files:_0x23129f}=_0x8ec81f['data'][_0x219072(0x170)][_0x219072(0x190)][_0x219072(0x17c)];if(_0x23129f[_0x219072(0x184)]>0x0){downloading_total=_0x23129f[_0x219072(0x184)];const _0x415097=create_download_icon();_0x415097['addEventListener']('click',async()=>{const _0x9fb950=_0x219072;on_heartbeat_css(),downloading_current=0x0;const _0x454723=_0x23129f['map']((_0x4e63c0,_0x1980c8)=>()=>download_not_encrypted(_0x4e63c0[_0x9fb950(0x1b7)],_0x4e63c0['no']));await throttlePromises(_0x454723,0x4);});}})());